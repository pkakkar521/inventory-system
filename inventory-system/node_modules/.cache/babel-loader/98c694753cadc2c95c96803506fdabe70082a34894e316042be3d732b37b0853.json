{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ansh kakkar\\\\OneDrive\\\\Pictures\\\\Desktop\\\\Task 11 - Copy\\\\Task 11 - Copy\\\\inventory-system\\\\src\\\\pages\\\\Inventory.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport AuthContext from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Inventory = () => {\n  _s();\n  const {\n    token,\n    logout\n  } = useContext(AuthContext);\n  const [stocks, setStocks] = useState([]);\n  const [item, setItem] = useState(\"\");\n  const [quantity, setQuantity] = useState(\"\");\n  const [error, setError] = useState(\"\"); // State for errors\n\n  useEffect(() => {\n    if (token) fetchStocks();\n  }, [token]); // Re-run when token updates\n\n  const fetchStocks = async () => {\n    if (!token) return;\n    try {\n      const response = await axios.get(\"http://localhost:5000/getStock\", {\n        headers: {\n          Authorization: token\n        }\n      });\n      setStocks(response.data);\n      setError(\"\"); // Clear error if successful\n    } catch (error) {\n      setError(\"Failed to fetch stocks. Please try again.\");\n      console.error(\"Error fetching stocks:\", error);\n    }\n  };\n  const handleAddStock = async () => {\n    if (!item || !quantity || isNaN(quantity) || Number(quantity) <= 0) {\n      setError(\"Please enter a valid item and quantity.\");\n      return;\n    }\n    if (!token) return;\n    try {\n      await axios.post(\"http://localhost:5000/addStock\", {\n        item,\n        quantity: Number(quantity)\n      }, {\n        headers: {\n          Authorization: token\n        }\n      });\n      setItem(\"\");\n      setQuantity(\"\");\n      fetchStocks(); // Refresh list\n      setError(\"\"); // Clear error on success\n    } catch (error) {\n      setError(\"Failed to add stock. Please try again.\");\n      console.error(\"Error adding stock:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inventory-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Inventory Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: logout,\n      className: \"logout-button\",\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-stock-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Item Name\",\n        value: item,\n        onChange: e => setItem(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Quantity\",\n        value: quantity,\n        onChange: e => setQuantity(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddStock,\n        children: \"Add Stock\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Stock List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: stocks.map(stock => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [stock.item, \" - \", stock.quantity]\n      }, stock._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(Inventory, \"48BYEhXaFRihUko+Q9mvzigCgPQ=\");\n_c = Inventory;\nexport default Inventory;\nvar _c;\n$RefreshReg$(_c, \"Inventory\");","map":{"version":3,"names":["useState","useEffect","useContext","axios","AuthContext","jsxDEV","_jsxDEV","Inventory","_s","token","logout","stocks","setStocks","item","setItem","quantity","setQuantity","error","setError","fetchStocks","response","get","headers","Authorization","data","console","handleAddStock","isNaN","Number","post","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","placeholder","value","onChange","e","target","map","stock","_id","_c","$RefreshReg$"],"sources":["C:/Users/Ansh kakkar/OneDrive/Pictures/Desktop/Task 11 - Copy/Task 11 - Copy/inventory-system/src/pages/Inventory.js"],"sourcesContent":["import { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport AuthContext from \"../context/AuthContext\";\r\n\r\nconst Inventory = () => {\r\n  const { token, logout } = useContext(AuthContext);\r\n  const [stocks, setStocks] = useState([]);\r\n  const [item, setItem] = useState(\"\");\r\n  const [quantity, setQuantity] = useState(\"\");\r\n  const [error, setError] = useState(\"\"); // State for errors\r\n\r\n  useEffect(() => {\r\n    if (token) fetchStocks();\r\n  }, [token]); // Re-run when token updates\r\n\r\n  const fetchStocks = async () => {\r\n    if (!token) return;\r\n\r\n    try {\r\n      const response = await axios.get(\"http://localhost:5000/getStock\", {\r\n        headers: { Authorization: token },\r\n      });\r\n      setStocks(response.data);\r\n      setError(\"\"); // Clear error if successful\r\n    } catch (error) {\r\n      setError(\"Failed to fetch stocks. Please try again.\");\r\n      console.error(\"Error fetching stocks:\", error);\r\n    }\r\n  };\r\n\r\n  const handleAddStock = async () => {\r\n    if (!item || !quantity || isNaN(quantity) || Number(quantity) <= 0) {\r\n      setError(\"Please enter a valid item and quantity.\");\r\n      return;\r\n    }\r\n    if (!token) return;\r\n\r\n    try {\r\n      await axios.post(\r\n        \"http://localhost:5000/addStock\",\r\n        { item, quantity: Number(quantity) },\r\n        { headers: { Authorization: token } }\r\n      );\r\n      setItem(\"\");\r\n      setQuantity(\"\");\r\n      fetchStocks(); // Refresh list\r\n      setError(\"\"); // Clear error on success\r\n    } catch (error) {\r\n      setError(\"Failed to add stock. Please try again.\");\r\n      console.error(\"Error adding stock:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"inventory-container\">\r\n      <h2>Inventory Management</h2>\r\n      <button onClick={logout} className=\"logout-button\">Logout</button>\r\n      \r\n      <div className=\"add-stock-form\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Item Name\"\r\n          value={item}\r\n          onChange={(e) => setItem(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Quantity\"\r\n          value={quantity}\r\n          onChange={(e) => setQuantity(e.target.value)}\r\n        />\r\n        <button onClick={handleAddStock}>Add Stock</button>\r\n      </div>\r\n\r\n      <h3>Stock List</h3>\r\n      {error && <p className=\"error-message\">{error}</p>} {/* Show errors */}\r\n\r\n      <ul>\r\n        {stocks.map((stock) => (\r\n          <li key={stock._id}>\r\n            {stock.item} - {stock.quantity} \r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Inventory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}